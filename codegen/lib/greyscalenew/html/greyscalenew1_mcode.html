<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T6U3">greyImage</span>=greyscalenew(<span class="var type1" id="S3T1U6">y</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2"> 2</a></span><span class="line">    <span class="comment">%y = imread('image1.jpg'); %red green blue</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3"> 3</a></span><span class="line">    <span class="var type1" id="S2T5U9">greyImage</span>=[];</span></span>
<span class="srcline"><span class="lineno"><a href="1,4"> 4</a></span><span class="line">    <span class="var type1" id="S4T2U14">s</span>=size(<span class="var type1" id="S3T1U17">y</span>); <span class="comment">%size of image 1=height, 2 = width, 3= pixel depth</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5"> 5</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S6T3U20">i</span>=1:<span class="var type1" id="S4T2U24">s</span>(1); <span class="comment">% loop through rows of pixels</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6"> 6</a></span><span class="line">        <span class="keyword">for</span> <span class="var type1" id="S7T3U28">j</span>=1:<span class="var type1" id="S4T2U32">s</span>(2);</span></span>
<span class="srcline"><span class="lineno"><a href="1,7"> 7</a></span><span class="line">            <span class="var type1" id="S8T4U36">red</span>=<span class="var type1" id="S3T1U38">y</span>(<span class="var type1" id="S6T3U39">i</span>,<span class="var type1" id="S7T3U40">j</span>,1); <span class="var type1" id="S9T4U44">green</span>=<span class="var type1" id="S3T1U46">y</span>(<span class="var type1" id="S6T3U47">i</span>,<span class="var type1" id="S7T3U48">j</span>,2); <span class="var type1" id="S10T4U52">blue</span>=<span class="var type1" id="S3T1U54">y</span>(<span class="var type1" id="S6T3U55">i</span>,<span class="var type1" id="S7T3U56">j</span>,3);</span></span>
<span class="srcline"><span class="lineno"><a href="1,8"> 8</a></span><span class="line">            <span class="message error" id="M1F1C"><span class="var type1" id="S2T5U61">greyImage</span>(<span class="var type2" id="S6T0U62">i</span>,<span class="var type2" id="S7T0U63">j</span>)</span>=.299*<span class="var type1" id="S8T4U68">red</span>+.587*<span class="var type1" id="S9T4U71">green</span>+.114*<span class="var type1" id="S10T4U74">blue</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,9"> 9</a></span><span class="line">            </span></span>
<span class="srcline"><span class="lineno"><a href="1,10">10</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11">11</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12">12</a></span><span class="line">    <span class="var type1" id="S2T6U77">greyImage</span>=uint8(<span class="var type1" id="S2T5U80">greyImage</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,13">13</a></span><span class="line">    <span class="message fatal" id="M2F1C">imshow</span>(<span class="var type1" id="S2T6U84">greyImage</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,14">14</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
